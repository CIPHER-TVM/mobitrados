.chat-modal {
  .modal-header,
  .modal-footer {
    position: relative;
    z-index: 2;
  }
  .modal-header {
    box-shadow: $box-shadow-sm;
  }
  .modal-footer {
    box-shadow: 0 -0.125rem 0.25rem rgba(#000, 0.075);
  }
  .list-group-item {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  .media {
    position: relative;
    align-items: center;
    .media-body {
      margin-left: 1rem;
      h6 {
        margin-bottom: 0;
      }
    }
  }
  .modal-content:not(.active) {
    display: none;
  }
  .list-group-flush .list-group-item:first-child {
    border-top: 0;
  }
}
.msg-status {
  &::after {
    content: '\2714';
  }
  &.read {
    color: #19aec6;
  }
  &.sent {
    color: $text-muted;
  }
}
.msg-preview,
.msg-preview-time,
.contact-status {
  font-size: 80%;
  color: $text-muted;
  margin-top: 2px;
  margin-bottom: 0;
}
.msg-preview {
  &.unread {
    font-weight: 700;
    font-size: $font-size-sm;
    color: $body-color;
  }
  .badge {
    font-weight: 400;
    font-size: 90%
  }
}

.msg-preview-time {
  position: absolute;
  top: 0;
  right: 0;
}
.contact-status.online {
  color: #4cc065;
}
.btn-toggle-contact {
  position: absolute;
  z-index: 2;
  right: 2rem;
  bottom: 2rem;
}

// Chat form
.chat-form {
  width: 100%;
  input[type="file"] {
    display: none;
  }
  textarea {
    border: 0;
    max-height: 100px;
  }
  .chat-btn-attach {
    font-size: 13px;
    line-height: 1;
    margin-bottom: 0;
  }
}
// Chat messages
.chat-msg {
  display: flex;
  margin-bottom: 1rem;
  > .popover {
    font-size: $font-size-sm;
    max-width: $chat-message-max-width;
    border-color: $border-color;
    &:not(.right) {
      background-color: $chat-message-bg;
      > .arrow::after {
        border-right-color: $chat-message-bg;
      }
    }
    > .popover-body {
      min-width: 50px;
      padding-bottom: 1rem;
    }
  }
  &.right {
    justify-content: flex-end;
    .popover {
      background-color: $chat-message-right-bg;
      > .arrow::after {
        border-left-color: $chat-message-right-bg;
      }
    }
  }
  .popover-body p {
    margin-bottom: 0;
  }
}
// Chat divider
.chat-divider {
  display: flex;
  justify-content: center;
  margin: 1rem 0;
  > span {
    background-color: $chat-divider-bg;
    color: $chat-divider-color;
    padding: .125rem .5rem;
    font-size: 80%;
    @if $enable-rounded {
      border-radius: 1rem;
    }
  }
}

// Chat attach
.chat-attach {
  margin: .5rem 0 0;
  background-color: darken($chat-message-bg, 3%);
  padding: .5rem;
  a {
    color: $body-color;
  }
  .right & {
    background-color: darken($chat-message-right-bg, 5%);
  }
}

// Chat time
time.chat-time {
  position: absolute;
  right: 5px;
  bottom: 0;
  font-size: 80%;
  color: $gray-500;
  .right & {
    right: 20px;
  }
}

#conversation-detail .modal-body {
  background: $chat-discussion-bg;
}

// Message status
.msg-status {
  position: absolute;
  right: 5px;
  bottom: -1px;
}